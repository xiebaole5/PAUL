# 天虹紧固件视频生成小程序 - 快速开始

## ⚡ 5 分钟快速部署

### 前置条件

- ✅ 已安装微信开发者工具
- ✅ 已注册小程序账号
- ✅ 后端 API 已部署（http://47.110.72.148）

---

## 📝 操作步骤

### 第 1 步：创建小程序项目

1. 打开微信开发者工具
2. 选择「小程序」
3. 选择「空白模板」
4. 填写项目信息：
   - **项目名称**：天虹视频生成
   - **AppID**：你的小程序 AppID
   - **开发模式**：小程序
   - **后端服务**：不使用云服务

5. 点击「创建」

---

### 第 2 步：导入代码文件

将以下文件复制到小程序项目的 `miniprogram/` 目录：

```
miniprogram/
├── app.js
├── app.json
├── app.wxss
├── sitemap.json
└── pages/
    ├── index/
    │   ├── index.wxml
    │   ├── index.wxss
    │   └── index.js
    └── result/
        ├── result.wxml
        ├── result.wxss
        └── result.js
```

---

### 第 3 步：配置 API 地址

打开 `miniprogram/app.js`，确认 API 地址：

```javascript
globalData: {
  systemInfo: null,
  apiUrl: 'http://47.110.72.148'  // 确认此地址正确
}
```

---

### 第 4 步：开启调试模式

1. 在微信开发者工具中，点击「详情」
2. 进入「本地设置」
3. 勾选「不校验合法域名、web-view（业务域名）、TLS 版本以及 HTTPS 证书」

---

### 第 5 步：编译运行

1. 在微信开发者工具中点击「编译」
2. 等待编译完成
3. 在模拟器中测试功能

---

## ✅ 功能测试

### 测试 1：生成视频

1. 在首页输入产品名称（如：高强度螺栓）
2. 选择主题（如：品质保证）
3. 选择时长（如：20秒）
4. 点击「立即生成」
5. 等待生成完成
6. 查看结果页的视频播放

### 测试 2：上传图片

1. 点击「上传产品图片」
2. 选择相册或拍照
3. 选择一张图片
4. 等待上传完成
5. 查看图片预览

### 测试 3：生成脚本

1. 选择生成类型为「生成脚本」
2. 输入产品名称和场景描述
3. 点击「立即生成」
4. 查看生成的脚本内容
5. 点击「复制脚本」

---

## 🎯 常用功能

### 功能 1：真机调试

1. 点击「真机调试」
2. 用微信扫描二维码
3. 在手机上测试

### 功能 2：查看日志

1. 打开微信开发者工具的控制台
2. 查看 `console.log` 输出
3. 查看 Network 请求

### 功能 3：上传代码

1. 点击「上传」
2. 填写版本号和备注
3. 上传成功

---

## ❓ 常见问题

### Q: API 调用失败？
- 检查是否开启了「不校验合法域名」
- 检查 API 地址是否正确
- 检查服务器是否正常运行

### Q: 图片上传失败？
- 检查图片格式（JPG、PNG）
- 检查图片大小（最大 5MB）
- 检查网络连接

### Q: 真机无法调用 API？
- 检查是否开启了「不校验合法域名」
- 真机调试时也需要开启此选项

---

## 📚 详细文档

查看完整文档：[小程序使用指南.md](./小程序使用指南.md)

---

**快速开始完成！开始使用小程序吧！** 🚀
