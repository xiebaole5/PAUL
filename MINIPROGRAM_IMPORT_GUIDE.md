# 微信小程序导入指南（2025-01-15版本）

## ✅ 检查结果

**状态**: 所有必要文件完整，可以正常导入！

---

## 🚀 快速开始

### 1. 小程序位置

```
/workspace/projects/miniprogram/
```

### 2. 导入步骤

1. **打开微信开发者工具**
2. **点击 "+" 号或 "导入项目"**
3. **填写以下信息**：
   - **项目目录**: `/workspace/projects/miniprogram`
   - **AppID**: `wx464504ca7e01b3b1`
   - **项目名称**: 天虹紧固件
4. **点击 "导入"**

### 3. 配置验证

导入后，请确保：

- ✅ **AppID**: wx464504ca7e01b3b1
- ✅ **API地址**: https://tnho-fasteners.com
- ✅ **不校验合法域名**: 在开发者工具右上角 "详情" 中勾选

---

## 📋 配置信息

| 配置项 | 值 |
|--------|-----|
| **AppID** | wx464504ca7e01b3b1 |
| **项目名称** | 天虹紧固件 |
| **API地址** | https://tnho-fasteners.com |
| **版本日期** | 2025-01-15 |
| **主色调** | 红色 (#D32F2F) |

---

## 🔧 核心功能

### 1. 脚本生成

- 输入产品名称、主题、时长、场景
- 点击生成脚本
- 跳转到结果页显示脚本内容

### 2. 视频生成

- 输入产品名称、主题、时长、场景
- 上传产品图片（可选）
- 点击生成视频
- 实时显示进度（0% → 100%）
- 完成后跳转到结果页播放视频

---

## 📱 界面预览

### 首页 (pages/index)

- 产品名称输入框
- 主题选择（品质保证、技术创新、工业应用、品牌形象）
- 时长选择（5/10/15/20/25/30秒）
- 生成类型选择（脚本/视频）
- 场景描述输入框
- 图片上传按钮
- 生成按钮

### 结果页 (pages/result)

- 脚本内容展示（脚本类型）
- 视频播放器（视频类型）
- 重新生成按钮

---

## ⚠️ 注意事项

### 开发环境

1. **不校验合法域名**
   - 位置: 开发者工具 → 右上角 "详情"
   - 勾选: "不校验合法域名、web-view（业务域名）、TLS 版本以及 HTTPS 证书"
   - 仅开发模式使用

2. **后端服务**
   - 确保后端服务正常运行
   - API地址: https://tnho-fasteners.com
   - 需要支持的接口:
     - POST /api/upload-image
     - POST /api/generate-video
     - GET /api/progress/{taskId}

### 正式发布

1. 在微信公众平台配置服务器域名
2. 移除 "不校验合法域名" 选项
3. 提交审核
4. 发布上线

---

## 🎨 主题列表

| 主题 | 说明 |
|------|------|
| 品质保证 | 强调产品质量和可靠性 |
| 技术创新 | 展现技术实力和创新能力 |
| 工业应用 | 突出在工业领域的应用 |
| 品牌形象 | 强化品牌认知和形象 |

---

## 📦 文件清单

### 核心文件

```
miniprogram/
├── app.js                    # 小程序入口
├── app.json                  # 全局配置
├── app.wxss                  # 全局样式
├── project.config.json       # 项目配置
├── sitemap.json              # 站点地图
├── 导入微信开发者工具指南.md # 详细导入指南
├── pages/
│   ├── index/                # 首页
│   │   ├── index.js
│   │   ├── index.json
│   │   ├── index.wxml
│   │   └── index.wxss
│   └── result/               # 结果页
│       ├── result.js
│       ├── result.json
│       ├── result.wxml
│       └── result.wxss
└── 文档/
    ├── 小程序使用指南.md
    ├── 快速启动指南.md
    └── ...
```

---

## 🧪 测试流程

### 测试1: 脚本生成

1. 打开小程序
2. 输入产品名称: "高强度螺栓"
3. 选择主题: "品质保证"
4. 选择时长: "20秒"
5. 输入场景: "用于汽车底盘连接"
6. 选择类型: "脚本"
7. 点击 "生成"
8. 预期: 跳转到结果页，显示脚本内容

### 测试2: 视频生成

1. 打开小程序
2. 输入产品名称: "高强度螺栓"
3. 选择主题: "品质保证"
4. 选择时长: "20秒"
5. 输入场景: "用于汽车底盘连接"
6. 上传产品图片
7. 选择类型: "视频"
8. 点击 "生成"
9. 预期:
   - 显示 "生成中 0%"
   - 每2秒更新进度
   - 完成后跳转到结果页
   - 显示视频播放器

---

## ❓ 常见问题

### Q1: 提示 "url not in domain list"

**A**: 在开发者工具右上角 "详情" 中，勾选 "不校验合法域名"

### Q2: 提示 "appid not in appid list"

**A**: 检查 project.config.json 中的 appid 是否为 `wx464504ca7e01b3b1`

### Q3: 网络请求失败

**A**:
1. 检查 app.js 中的 apiUrl 是否正确
2. 确认后端服务是否正常运行
3. 勾选 "不校验合法域名"

### Q4: 图片上传失败

**A**: 确保图片大小不超过 5MB

---

## 📚 相关文档

- [导入微信开发者工具指南.md](miniprogram/导入微信开发者工具指南.md) - 详细导入步骤
- [小程序使用指南.md](miniprogram/小程序使用指南.md) - 小程序功能说明
- [快速启动指南.md](miniprogram/快速启动指南.md) - 快速上手指南

---

## ✅ 检查清单

导入后，请逐项检查：

- [ ] 项目成功导入，无报错
- [ ] AppID 配置正确 (wx464504ca7e01b3b1)
- [ ] API地址配置正确 (https://tnho-fasteners.com)
- [ ] 开发者工具中勾选 "不校验合法域名"
- [ ] 首页正常显示
- [ ] 能输入产品名称
- [ ] 能选择主题和时长
- [ ] 能上传图片
- [ ] 脚本生成功能正常
- [ ] 视频生成功能正常（需要后端服务运行）

---

## 🎯 下一步

1. ✅ 完成导入
2. ✅ 验证配置
3. ✅ 测试功能
4. 🔄 根据需求调整UI
5. 🚀 准备正式发布

---

**更新时间**: 2025-01-15
**版本**: v1.0
**状态**: ✅ 可以正常导入和使用
